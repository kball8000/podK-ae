{% extends 'base.html' %}
{% block body %}

<!-- Display player -->
<div class='audioPlayerDiv'>
	<audio id='audioPlayer' class='audioPlayer' controls data-podcast-url='{{ nowPlaying.url_podcast }}' 
		   preload='metadata'>
		<source src='{{ nowPlaying.url_episode }}'>
	</audio>
	<div class='ui-grid-a'>
		<div class='ui-block-a'>
			<form class='full-width-slider sliderForm'>
				<label for='playerSlider' class='ui-hidden-accessible'>playerSlider:</label>
				<input type='range' name='playerSlider' id='playerSlider' min='0' max='100' value='0'>
			</form>
		</div>
		<div class='ui-block-b'>
			<p id='playerTimeCurrent' data-init-playback-time='{{ nowPlaying.current_playback_time }}'>
				{{ nowPlaying.current_playback_time }}
			</p>
		</div>
	</div>
	<div class='customAudioControls'>
		<a class="playBtn ui-btn ui-btn-inline" id='playBtnId'>&#9654; <span style='padding:0 0.5em;'>/</span> ||</a>
		<a class="rewindBtn ui-btn ui-btn-inline">&lt;</a>
		<a class="fastForwardBtn ui-btn ui-btn-inline">&gt;</a>
		<a class="muteBtn ui-btn ui-btn-inline">Mute</a>
	</div>
	<div id='playerEpisodeInfo'>
	<!-- Important not to have extra spaces here, since this is read in as data for
	nowPlaying info stored in app engine datastore.-->
		<p>{{ nowPlaying.title_podcast }}</p>
		<p>{{ nowPlaying.title_episode }}</p>
	</div>
</div>
<!-- <div id='playlist' class='playlist'> -->
	<ul data-role='listview' data-split-icon='delete' id='playlist'>
		{% for episode in playlist %}
		<li data-icon='false' data-episode-url='{{ episode.url_episode}}' data-podcast-url='{{ episode.url_podcast}}' 
			id='playlistItem_{{ loop.index }}' class='playlistItem'> 
			<a href='#'>
				<h2>{{ episode.title_podcast }}</h2>
				<p>{{ episode.title_episode }}</p>
<!-- 				<p>{{ episode.percent_listened }}%</p> -->
			</a>
			<a href="#" class='deleteBtn'></a>
		</li>
		{% endfor %}
	</ul>
<!-- </div> -->
{% endblock %}